ç›®å½•

# æ–°å»ºæ¨¡å—

æœ¬ç« èŠ‚ï¼Œå°†ä»‹ç»å¦‚ä½•æ–°å»ºåå­—ä¸º `yudao-module-demo` çš„ç¤ºä¾‹æ¨¡å—ï¼Œå¹¶æ·»åŠ  RESTful API æ¥å£ã€‚

è™½ç„¶å†…å®¹çœ‹èµ·æ¥æ¯”è¾ƒé•¿ï¼Œæ˜¯å› ä¸ºè‰¿è‰¿å†™çš„æ¯”è¾ƒè¯¦ç»†ï¼Œå¤§é‡æˆªå›¾ï¼Œä¿å§†çº§æ•™ç¨‹ï¼å…¶å®åªæœ‰äº”ä¸ªæ­¥éª¤ï¼Œä¿æŒè€å¿ƒï¼Œè·Ÿç€è‰¿è‰¿ä¸€ç‚¹ç‚¹æ¥ã€‚ğŸ™‚ å®Œæˆä¹‹åï¼Œä½ ä¼šå¯¹æ•´ä¸ª [é¡¹ç›®ç»“æ„](/project-intro/) æœ‰æ›´å……åˆ†çš„äº†è§£ã€‚

## [#](#ğŸ‘-ç›¸å…³è§†é¢‘æ•™ç¨‹) ğŸ‘ ç›¸å…³è§†é¢‘æ•™ç¨‹

*   [ä»é›¶å¼€å§‹ 06ï¼šå¦‚ä½• 5 åˆ†é’Ÿï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ¨¡å—ï¼Ÿ (opens new window)](https://t.zsxq.com/07EUrZrNV)

## [#](#_1-æ–°å»º-demo-æ¨¡å—) 1. æ–°å»º demo æ¨¡å—

â‘  é€‰æ‹© File -> New -> Module èœå•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ‰“å¼€ New Module](./static/40.png)

â‘¡ é€‰æ‹© Maven ç±»å‹ï¼Œå¹¶ç‚¹å‡» Next æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![é€‰æ‹© Maven ç±»å‹](./static/41.png)

â‘¢ é€‰æ‹©çˆ¶æ¨¡å—ä¸º `yudao`ï¼Œè¾“å…¥åå­—ä¸º `yudao-module-demo`ï¼Œå¹¶ç‚¹å‡» Finish æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![å¡«å†™ Module ä¿¡æ¯](./static/42.png)

â‘£ æ‰“å¼€ `yudao-module-demo` æ¨¡å—ï¼Œåˆ é™¤ src æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![åˆ é™¤ src æ–‡ä»¶](./static/43.png)

â‘¤ æ‰“å¼€ `yudao-module-demo` æ¨¡å—çš„ `pom.xml` æ–‡ä»¶ï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š

æç¤º

`<!-- -->` éƒ¨åˆ†ï¼Œåªæ˜¯æ³¨é‡Šï¼Œä¸éœ€è¦å†™åˆ° XML ä¸­ã€‚

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>yudao</artifactId>
        <groupId>cn.iocoder.boot</groupId>
        <version>${revision}</version> <!-- 1. ä¿®æ”¹ version ä¸º ${revision} -->
    </parent>
    <modelVersion>4.0.0</modelVersion>

    <artifactId>yudao-module-demo</artifactId>
    <packaging>pom</packaging> <!-- 2. æ–°å¢ packaging ä¸º pom -->

    <name>${project.artifactId}</name> <!-- 3. æ–°å¢ name ä¸º ${project.artifactId} -->
    <description> <!-- 4. æ–°å¢ description ä¸ºè¯¥æ¨¡å—çš„æè¿° -->
        demo æ¨¡å—ï¼Œä¸»è¦å®ç° XXXã€YYYã€ZZZ ç­‰åŠŸèƒ½ã€‚
    </description>

</project>

```

## [#](#_2-æ–°å»º-demo-api-å­æ¨¡å—) 2. æ–°å»º demo-api å­æ¨¡å—

â‘  æ–°å»º `yudao-module-demo-api` å­æ¨¡å—ï¼Œæ•´ä¸ªè¿‡ç¨‹å’Œâ€œæ–°å»º demo æ¨¡å—â€æ˜¯ä¸€è‡´çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ‰“å¼€ New Module](./static/40.png)

![é€‰æ‹© Maven ç±»å‹](./static/41.png)

![å¡«å†™ Module ä¿¡æ¯](./static/42-api.png)

â‘¡ æ‰“å¼€ `yudao-module-demo-api` æ¨¡å—çš„ `pom.xml` æ–‡ä»¶ï¼Œä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>yudao-module-demo</artifactId>
        <groupId>cn.iocoder.boot</groupId>
        <version>${revision}</version> <!-- 1. ä¿®æ”¹ version ä¸º ${revision} -->
    </parent>
    <modelVersion>4.0.0</modelVersion>
    <artifactId>yudao-module-demo-api</artifactId>
    <packaging>jar</packaging> <!-- 2. æ–°å¢ packaging ä¸º jar -->

    <name>${project.artifactId}</name> <!-- 3. æ–°å¢ name ä¸º ${project.artifactId} -->
    <description> <!-- 4. æ–°å¢ description ä¸ºè¯¥æ¨¡å—çš„æè¿° -->
        demo æ¨¡å— APIï¼Œæš´éœ²ç»™å…¶å®ƒæ¨¡å—è°ƒç”¨
    </description>

    <dependencies>  <!-- 5. æ–°å¢ yudao-common ä¾èµ– -->
        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-common</artifactId>
        </dependency>
    </dependencies>

</project>

```

â‘¢ ã€å¯é€‰ã€‘æ–°å»º `cn.iocoder.yudao.module.demo` **åŸºç¡€**åŒ…ï¼Œå…¶ä¸­ `demo` ä¸ºæ¨¡å—åã€‚ä¹‹åï¼Œæ–°å»º `api` å’Œ `enums` åŒ…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ–°å»ºåŸºç¡€åŒ…](./static/44.png)

## [#](#_3-æ–°å»º-demo-biz-å­æ¨¡å—) 3. æ–°å»º demo-biz å­æ¨¡å—

â‘  æ–°å»º `yudao-module-demo-biz` å­æ¨¡å—ï¼Œæ•´ä¸ªè¿‡ç¨‹å’Œâ€œæ–°å»º demo æ¨¡å—â€ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ‰“å¼€ New Module](./static/40.png)

![é€‰æ‹© Maven ç±»å‹](./static/41.png)

![å¡«å†™ Module ä¿¡æ¯](./static/42-biz.png)

â‘¡ æ‰“å¼€ `yudao-module-demo-biz` æ¨¡å—çš„ `pom.xml` æ–‡ä»¶ï¼Œä¿®æ”¹æˆå†…å®¹å¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <parent>
        <artifactId>yudao-module-demo</artifactId>
        <groupId>cn.iocoder.boot</groupId>
        <version>${revision}</version> <!-- 1. ä¿®æ”¹ version ä¸º ${revision} -->
    </parent>
    <modelVersion>4.0.0</modelVersion>
    <packaging>jar</packaging> <!-- 2. æ–°å¢ packaging ä¸º jar -->

    <artifactId>yudao-module-demo-biz</artifactId>

    <name>${project.artifactId}</name> <!-- 3. æ–°å¢ name ä¸º ${project.artifactId} -->
    <description> <!-- 4. æ–°å¢ description ä¸ºè¯¥æ¨¡å—çš„æè¿° -->
        demo æ¨¡å—ï¼Œä¸»è¦å®ç° XXXã€YYYã€ZZZ ç­‰åŠŸèƒ½ã€‚
    </description>

    <dependencies>  <!-- 5. æ–°å¢ä¾èµ–ï¼Œè¿™é‡Œå¼•å…¥çš„éƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸šåŠ¡ç»„ä»¶ã€æŠ€æœ¯ç»„ä»¶ -->
        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-module-demo-api</artifactId>
            <version>${revision}</version>
        </dependency>

        <!-- Web ç›¸å…³ -->
        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-spring-boot-starter-web</artifactId>
        </dependency>

        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-spring-boot-starter-security</artifactId>
        </dependency>

        <!-- DB ç›¸å…³ -->
        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-spring-boot-starter-mybatis</artifactId>
        </dependency>

        <!-- Test æµ‹è¯•ç›¸å…³ -->
        <dependency>
            <groupId>cn.iocoder.boot</groupId>
            <artifactId>yudao-spring-boot-starter-test</artifactId>
        </dependency>
    </dependencies>
    
</project>

```

â‘¢ ã€å¿…é€‰ã€‘æ–°å»º `cn.iocoder.yudao.module.demo` **åŸºç¡€**åŒ…ï¼Œå…¶ä¸­ `demo` ä¸ºæ¨¡å—åã€‚ä¹‹åï¼Œæ–°å»º `controller.admin` å’Œ `controller.user` ç­‰åŒ…ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ–°å»ºåŸºç¡€åŒ…](./static/45.png)

â‘£ æ‰“å¼€ Maven èœå•ï¼Œç‚¹å‡»åˆ·æ–°æŒ‰é’®ï¼Œè®©å¼•å…¥çš„ Maven ä¾èµ–ç”Ÿæ•ˆã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![åˆ·æ–° Maven ä¾èµ–](./static/46.png)

## [#](#_4-æ–°å»º-restful-api-æ¥å£) 4. æ–°å»º RESTful API æ¥å£

â‘  åœ¨ `controller.admin` åŒ…ï¼Œæ–°å»ºä¸€ä¸ª DemoTestController ç±»ï¼Œå¹¶æ–°å»ºä¸€ä¸ª `/demo/test/get` æ¥å£ã€‚ä»£ç å¦‚ä¸‹ï¼š

```java
package cn.iocoder.yudao.module.demo.controller.admin;

import cn.iocoder.yudao.framework.common.pojo.CommonResult;
import io.swagger.v3.oas.annotations.tags.Tag;
import io.swagger.v3.oas.annotations.Operation;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import static cn.iocoder.yudao.framework.common.pojo.CommonResult.success;

@Tag(name = "ç®¡ç†åå° - Test")
@RestController
@RequestMapping("/demo/test")
@Validated
public class DemoTestController {

    @GetMapping("/get")
    @Operation(summary = "è·å– test ä¿¡æ¯")
    public CommonResult<String> get() {
        return success("true");
    }

}

```

**æ³¨æ„**ï¼Œ`/demo` æ˜¯è¯¥æ¨¡å—æ‰€æœ‰ RESTful API çš„åŸºç¡€è·¯å¾„ï¼Œ`/test` æ˜¯ Test åŠŸèƒ½çš„åŸºç¡€è·¯å¾„ã€‚

â‘  åœ¨ `controller.app` åŒ…ï¼Œæ–°å»ºä¸€ä¸ª AppDemoTestController ç±»ï¼Œå¹¶æ–°å»ºä¸€ä¸ª `/demo/test/get` æ¥å£ã€‚ä»£ç å¦‚ä¸‹ï¼š

```java
package cn.iocoder.yudao.module.demo.controller.app;

import cn.iocoder.yudao.framework.common.pojo.CommonResult;
import io.swagger.v3.oas.annotations.tags.Tag;
import io.swagger.v3.oas.annotations.Operation;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import static cn.iocoder.yudao.framework.common.pojo.CommonResult.success;

@Tag(name = "ç”¨æˆ· App - Test")
@RestController
@RequestMapping("/demo/test")
@Validated
public class AppDemoTestController {

    @GetMapping("/get")
    @Operation(summary = "è·å– test ä¿¡æ¯")
    public CommonResult<String> get() {
        return success("true");
    }

}

```

åœ¨ Controller çš„å‘½åä¸Šï¼Œé¢å¤–å¢åŠ  **App** ä½œä¸ºå‰ç¼€ï¼Œä¸€æ–¹é¢åŒºåˆ†æ˜¯ç®¡ç†åå°è¿˜æ˜¯ç”¨æˆ· App çš„ Controllerï¼Œå¦ä¸€æ–¹é¢é¿å… Spring Bean çš„åå­—å†²çªã€‚

å¯èƒ½ä½ ä¼šå¥‡æ€ªï¼Œè¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª `/demo/test/get` æ¥å£ï¼Œä¼šä¸ä¼šå­˜åœ¨é‡å¤å¯¼è‡´å†²çªå‘¢ï¼Ÿç­”æ¡ˆï¼Œå½“ç„¶æ˜¯å¹¶ä¸ä¼šã€‚åŸå› æ˜¯ï¼š

*   `controller.admin` åŒ…ä¸‹çš„æ¥å£ï¼Œé»˜è®¤ä¼šå¢åŠ  `/admin-api`ï¼Œå³æœ€ç»ˆçš„è®¿é—®åœ°å€æ˜¯ `/admin-api/demo/test/get`
*   `controller.app` åŒ…ä¸‹çš„æ¥å£ï¼Œé»˜è®¤ä¼šå¢åŠ  `/app-api`ï¼Œå³æœ€ç»ˆçš„è®¿é—®åœ°å€æ˜¯ `/app-api/demo/test/get`

## [#](#_5-å¼•å…¥-demo-æ¨¡å—) 5. å¼•å…¥ demo æ¨¡å—

â‘  åœ¨ `yudao-server` æ¨¡å—çš„ `pom.xml` æ–‡ä»¶ï¼Œå¼•å…¥ `yudao-module-demo-biz` å­æ¨¡å—ï¼Œå¹¶ç‚¹å‡» Maven åˆ·æ–°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![åˆ·æ–° Maven ä¾èµ–](./static/47.png)

â‘¡ è¿è¡Œ YudaoServerApplication ç±»ï¼Œå°†åç«¯é¡¹ç›®è¿›è¡Œå¯åŠ¨ã€‚å¯åŠ¨å®Œæˆåï¼Œä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ [http://127.0.0.1:48080/doc.html (opens new window)](http://127.0.0.1:48080/doc.html) åœ°å€ï¼Œè¿›å…¥ Swagger æ¥å£æ–‡æ¡£ã€‚

â‘¢ æ‰“å¼€â€œç®¡ç†åå° - Testâ€æ¥å£ï¼Œè¿›è¡Œ `/admin-api/demo/test/get` æ¥å£çš„è°ƒè¯•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æµ‹è¯•  æ¥å£](./static/48.png)

â‘£ æ‰“å¼€â€œç”¨æˆ· App - Testâ€æ¥å£ï¼Œè¿›è¡Œ `/app-api/demo/test/get` æ¥å£çš„è°ƒè¯•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æµ‹è¯•  æ¥å£](./static/49.png)

## [#](#_6-è®¿é—®æ¥å£è¿”å›-404) 6. è®¿é—®æ¥å£è¿”å› 404ï¼Ÿ

è¯·æ£€æŸ¥ï¼Œä½ æ–°å»ºçš„æ¨¡å—çš„ `package` åŒ…åæ˜¯ä¸æ˜¯åœ¨ `cn.iocoder.yudao.module` ä¸‹ï¼

å¦‚æœä¸æ˜¯ï¼Œä¿®æ”¹ [YudaoServerApplication (opens new window)](https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-server/src/main/java/cn/iocoder/yudao/server/YudaoServerApplication.java) ç±»ï¼Œå¢åŠ æ–°å»ºçš„æ¨¡å—çš„ `package` åŒ…åã€‚ä¾‹å¦‚è¯´ï¼š

```java
@SpringBootApplication(scanBasePackages = {"${yudao.info.base-package}.server", "${yudao.info.base-package}.module",
    "xxx.yyy.zzz"}) // xxx.yyy.zzz æ˜¯ä½ æ–°å»ºçš„æ¨¡å—çš„ `package` åŒ…å

```

## [#](#_7-è¡¥å……è¯´æ˜) 7. è¡¥å……è¯´æ˜
### [#](#_7-1-æ¥å£åˆ†ç»„) 7.1 æ¥å£åˆ†ç»„

å¦‚æœä½ æƒ³ Swagger æœ‰è¯¥æ¨¡å—çš„æ¥å£åˆ†ç»„ï¼Œåˆ™éœ€è¦æ–°å»º GroupedOpenApi Beanã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![æ¥å£åˆ†ç»„](./static/æ¥å£åˆ†ç»„.png)

### [#](#_7-2-mybatis-æ—¥å¿—) 7.2 MyBatis æ—¥å¿—

å¦‚æœä½ å¸Œæœ›æ–°æ¨¡å—çš„ MyBatis æŸ¥è¯¢ä¼šæ‰“å° SQL æ—¥å¿—ï¼Œéœ€è¦åœ¨ `logging.level` é…ç½®å¯¹åº”çš„ Loggerã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![MyBatis æ—¥å¿—](./static/MyBatisæ—¥å¿—.png)